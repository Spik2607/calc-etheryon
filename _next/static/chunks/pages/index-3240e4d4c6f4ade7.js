(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9887)}])},9887:function(e,r,l){"use strict";l.r(r),l.d(r,{default:function(){return D}});var a=l(5893),t=l(7294),s=l(5480),n=l(3114);function i(){for(var e=arguments.length,r=Array(e),l=0;l<e;l++)r[l]=arguments[l];return r.filter(Boolean).join(" ")}l(5675);let o=t.forwardRef((e,r)=>{let{className:l,...t}=e;return(0,a.jsx)("div",{ref:r,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",l),...t})});o.displayName="Card";let d=t.forwardRef((e,r)=>{let{className:l,...t}=e;return(0,a.jsx)("div",{ref:r,className:i("flex flex-col space-y-1.5 p-6",l),...t})});d.displayName="CardHeader";let c=t.forwardRef((e,r)=>{let{className:l,...t}=e;return(0,a.jsx)("h3",{ref:r,className:i("text-2xl font-semibold leading-none tracking-tight",l),...t})});c.displayName="CardTitle";let u=t.forwardRef((e,r)=>{let{className:l,...t}=e;return(0,a.jsx)("div",{ref:r,className:i("p-6 pt-0",l),...t})});u.displayName="CardContent";let m=t.forwardRef((e,r)=>{let{className:l,type:t,...s}=e;return(0,a.jsx)("input",{type:t,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:r,...s})});m.displayName="Input";var x=l(8426);let f={base:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},h=t.forwardRef((e,r)=>{let{className:l,variant:t="default",size:s="default",asChild:n=!1,...o}=e,d=n?x.g7:"button";return(0,a.jsx)(d,{className:i(f.base,f.variant[t],f.size[s],l),ref:r,...o})});h.displayName="Button";var b=l(1165);let p=t.forwardRef((e,r)=>{let{className:l,children:t,...s}=e;return(0,a.jsxs)(b.fC,{ref:r,className:i("relative overflow-hidden",l),...s,children:[(0,a.jsx)(b.l_,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(g,{}),(0,a.jsx)(b.Ns,{})]})});p.displayName=b.fC.displayName;let g=t.forwardRef((e,r)=>{let{className:l,orientation:t="vertical",...s}=e;return(0,a.jsx)(b.gb,{ref:r,orientation:t,className:i("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",l),...s,children:(0,a.jsx)(b.q4,{className:"relative flex-1 rounded-full bg-border"})})});g.displayName=b.gb.displayName;var v=l(9455),j=l(6291),N=l(9560),w=l(3231),y=l(7420);let C=[{name:"Eau",icon:"\uD83D\uDCA7",bgColor:"bg-blue-500",textColor:"text-white"},{name:"Feu",icon:"\uD83D\uDD25",bgColor:"bg-red-500",textColor:"text-white"},{name:"Terre",icon:"\uD83C\uDF0D",bgColor:"bg-green-500",textColor:"text-white"},{name:"Air",icon:"\uD83C\uDF2A️",bgColor:"bg-gray-500",textColor:"text-white"},{name:"Foudre",icon:"⚡",bgColor:"bg-yellow-500",textColor:"text-black"}],k={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}};var A=()=>{let[e,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)(3),[c,u]=(0,t.useState)(Array(8).fill("")),[x,f]=(0,t.useState)([]),[b,g]=(0,t.useState)(0),[A,_]=(0,t.useState)(1),[D,S]=(0,t.useState)([]),[E,M]=(0,t.useState)(Array(7).fill(-1)),R=(0,t.useCallback)(e=>{d(e),u(r=>{let l=[...r];return l.length=e,l.fill("",r.length,e)})},[]),T=(0,t.useCallback)((e,r)=>{u(l=>{let a=[...l];return a[e]=r,a})},[]),F=(0,t.useCallback)(()=>{f(Array(o).fill().map(()=>Array(7).fill().map(()=>Array(C.length).fill(0)))),S(Array(o).fill().map(()=>Array(7).fill(0))),M(Array(7).fill(-1)),r(!0)},[o]),Z=(0,t.useCallback)(e=>{if(!e||0===e.length)return 0;let r=Math.max(...e);return e.reduce((e,l)=>l===r?e:e-l,r)},[]),z=(0,t.useCallback)((e,r,l,a)=>{let t=Math.max(0,parseInt(a)||0);f(a=>{let s=[...a];return s[e]||(s[e]=Array(7).fill().map(()=>Array(C.length).fill(0))),s[e][r][l]=t,s}),S(a=>{let s=[...a];s[e]||(s[e]=Array(7).fill(0));let n=x[e][r].map((e,r)=>r===l?t:e);return s[e][r]=Z(n),s})},[Z,x]);(0,t.useCallback)((e,r)=>{M(l=>{let a=[...l];return a[e]===r?a[e]=-1:(-1!==a[e]&&S(r=>r.map((r,l)=>l===a[e]?r.map((r,l)=>l===e?r-15:r):r)),a[e]=r),a}),S(l=>l.map((l,a)=>a===r?l.map((l,a)=>a===e?l+(E[e]===r?-15:15):l):l))},[E]);let J=(0,t.useCallback)(e=>{var r;return(null===(r=D[e])||void 0===r?void 0:r.reduce((e,r)=>e+(r||0),0))||0},[D]),P=(0,t.useCallback)(()=>{b<o-1?g(e=>e+1):(g(0),A<7?_(e=>e+1):i(!0))},[b,o,A]),B=(0,t.useMemo)(()=>(0,a.jsxs)("div",{className:"bg-parchment rounded-lg shadow-lg border-2 border-brown-900",children:[(0,a.jsx)("div",{className:"bg-brown-900 text-parchment p-4 rounded-t-lg",children:(0,a.jsxs)("h2",{className:"text-xl font-medieval text-center flex items-center justify-center gap-2",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5"}),"Tableau des Scores"]})}),(0,a.jsx)("div",{className:"p-4 overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b-2 border-brown-800",children:[(0,a.jsx)("th",{className:"p-2 text-left",children:"Joueur"}),Array.from({length:7},(e,r)=>(0,a.jsxs)("th",{className:"p-2 text-center",children:["M",r+1]},r)),(0,a.jsx)("th",{className:"p-2 text-center",children:"Total"})]})}),(0,a.jsx)("tbody",{children:c.slice(0,o).map((e,r)=>(0,a.jsxs)("tr",{className:"\n                  border-b border-brown-300\n                  ".concat(b===r?"bg-brown-100/50":"","\n                  hover:bg-brown-50/50 transition-colors\n                "),children:[(0,a.jsx)("td",{className:"p-2 font-semibold",children:e||"Joueur ".concat(r+1)}),Array.from({length:7},(e,l)=>{var t;return(0,a.jsx)("td",{className:"p-2 text-center",children:(0,a.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,a.jsx)("span",{className:"font-medieval",children:(null===(t=D[r])||void 0===t?void 0:t[l])||0}),E[l]===r&&(0,a.jsx)(N.Z,{className:"h-4 w-4 text-yellow-500 absolute -top-2 -right-2"})]})},l)}),(0,a.jsx)("td",{className:"p-2 text-center font-bold",children:J(r)})]},r))})]})})]}),[c,o,b,D,E,J]),I=(0,t.useMemo)(()=>(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:C.map((e,r)=>{var l,t;return(0,a.jsxs)("div",{className:"bg-parchment rounded-lg shadow-md border border-brown-300 overflow-hidden",children:[(0,a.jsxs)("div",{className:"".concat(e.bgColor," ").concat(e.textColor," p-2 text-center font-medieval flex items-center justify-center gap-2"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{children:e.name})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(m,{type:"number",min:"0",value:(null===(t=x[b])||void 0===t?void 0:null===(l=t[A-1])||void 0===l?void 0:l[r])||0,onChange:e=>z(b,A-1,r,e.target.value),className:"w-full text-center font-medieval"})})]},r)})}),[x,b,A,z]);return(0,a.jsxs)("div",{className:"min-h-screen bg-parchment-pattern",children:[(0,a.jsx)("header",{className:"bg-brown-900 text-parchment shadow-lg",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("h1",{className:"text-3xl font-medieval text-center flex items-center justify-center gap-4",children:[(0,a.jsx)(v.Z,{className:"h-8 w-8"}),"Calculatrice Etheryon",(0,a.jsx)(j.Z,{className:"h-8 w-8"})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(n.M,{mode:"wait",children:e?(0,a.jsxs)(s.E.div,{...k,className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsx)("div",{className:"w-full md:w-2/3",children:(0,a.jsxs)("div",{className:"bg-parchment rounded-lg shadow-lg border-2 border-brown-900 p-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-medieval text-center mb-6 flex items-center justify-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-6 w-6"}),"Tour de ",c[b]," - Manche ",A]}),I,(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)(h,{onClick:P,className:"bg-brown-900 text-parchment hover:bg-brown-800 font-medieval",children:b<o-1?"Joueur Suivant":"Manche Suivante"})})]})}),(0,a.jsx)("div",{className:"w-full md:w-1/3",children:B})]},"game"):(0,a.jsxs)(s.E.div,{...k,className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"w-full md:w-2/3 bg-parchment rounded-lg shadow-lg border-2 border-brown-900 p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-medieval text-center mb-6",children:"Configuration de la Partie"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-lg font-medieval mb-2",children:"Nombre de joueurs :"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[2,3,4,5,6,7,8].map(e=>(0,a.jsx)(h,{onClick:()=>R(e),variant:o===e?"default":"outline",className:"\n                            ".concat(o===e?"bg-brown-900 text-parchment":"border-brown-900","\n                            font-medieval\n                          "),children:e},e))})]}),(0,a.jsx)(p,{className:"h-64 border rounded-lg p-4",children:c.slice(0,o).map((e,r)=>(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(m,{placeholder:"Nom du joueur ".concat(r+1),value:e,onChange:e=>T(r,e.target.value),className:"w-full font-medieval"})},r))}),(0,a.jsx)(h,{onClick:F,disabled:c.slice(0,o).some(e=>!e),className:"w-full bg-brown-900 text-parchment hover:bg-brown-800 font-medieval",children:"Commencer la partie"})]})]}),(0,a.jsx)("div",{className:"w-full md:w-1/3",children:B})]},"setup")})})]})},_=l(1571);function D(){let{theme:e}=(0,_.F)();return(0,a.jsx)("div",{className:"min-h-screen bg-background ".concat("dark"===e?"dark":""),children:(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)(o,{className:"w-full max-w-4xl mx-auto",children:(0,a.jsx)(A,{})})})})})}}},function(e){e.O(0,[30,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);