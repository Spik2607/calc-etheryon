(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4126)}])},4126:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return B}});var t=a(5893),s=a(7294),l=a(5480),i=a(3114),n=a(1571),d=a(8426);function o(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter(Boolean).join(" ")}let c={base:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},u=s.forwardRef((e,r)=>{let{className:a,variant:s="default",size:l="default",asChild:i=!1,...n}=e,u=i?d.g7:"button";return(0,t.jsx)(u,{className:o(c.base,c.variant[s],c.size[l],a),ref:r,...n})});u.displayName="Button";let f=s.forwardRef((e,r)=>{let{className:a,type:s,...l}=e;return(0,t.jsx)("input",{type:s,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...l})});f.displayName="Input";let x=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});x.displayName="Card";let m=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:o("flex flex-col space-y-1.5 p-6",a),...s})});m.displayName="CardHeader";let h=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:o("text-2xl font-semibold leading-none tracking-tight",a),...s})});h.displayName="CardTitle";let p=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:o("p-6 pt-0",a),...s})});p.displayName="CardContent";var g=a(5443);let b=s.forwardRef((e,r)=>{let{className:a,children:s,...l}=e;return(0,t.jsxs)(g.fC,{ref:r,className:o("relative overflow-hidden",a),...l,children:[(0,t.jsx)(g.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,t.jsx)(j,{}),(0,t.jsx)(g.Ns,{})]})});b.displayName=g.fC.displayName;let j=s.forwardRef((e,r)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,t.jsx)(g.gb,{ref:r,orientation:s,className:o("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,t.jsx)(g.q4,{className:"relative flex-1 rounded-full bg-border"})})});j.displayName=g.gb.displayName;var v=a(6069),N=a(3742);let y=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(v.fC,{ref:r,className:o("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,t.jsx)(v.z$,{className:o("flex items-center justify-center text-current"),children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})})});y.displayName=v.fC.displayName;var w=a(761);let k=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(w.fC,{className:o("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:r,children:(0,t.jsx)(w.bU,{className:o("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});k.displayName=w.fC.displayName;var C=a(5649),_=a(8971);let S=C.fC;C.ZA;let R=C.B4,A=s.forwardRef((e,r)=>{let{className:a,children:s,...l}=e;return(0,t.jsxs)(C.xz,{ref:r,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:[s,(0,t.jsx)(C.JO,{asChild:!0,children:(0,t.jsx)(_.Z,{className:"h-4 w-4 opacity-50"})})]})});A.displayName=C.xz.displayName;let E=s.forwardRef((e,r)=>{let{className:a,children:s,position:l="popper",...i}=e;return(0,t.jsx)(C.h_,{children:(0,t.jsx)(C.VY,{ref:r,className:o("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...i,children:(0,t.jsx)(C.l_,{className:o("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});E.displayName=C.VY.displayName;let z=s.forwardRef((e,r)=>{let{className:a,children:s,...l}=e;return(0,t.jsxs)(C.ck,{ref:r,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(C.wU,{children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(C.eT,{children:s})]})});z.displayName=C.ck.displayName;var T=a(1470),M=a(8532),Z=a(250);let q=["Eau","Feu","Terre","Air","Foudre"],F={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},O=e=>{let{element:r,value:a,onChange:s,className:l}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),(0,t.jsx)(f,{type:"number",value:a,onChange:s,className:"w-full text-center ".concat(l),min:"0"})]})};var J=()=>{var e;let{theme:r,setTheme:a}=(0,n.F)(),[d,o]=(0,s.useState)(!1),[c,g]=(0,s.useState)(!1),[j,v]=(0,s.useState)(3),[N,w]=(0,s.useState)(Array(8).fill("")),[C,_]=(0,s.useState)([]),[J,B]=(0,s.useState)(0),[I,V]=(0,s.useState)(1),[P,U]=(0,s.useState)([]),[X,Y]=(0,s.useState)([]),[G,H]=(0,s.useState)(!1),[$,D]=(0,s.useState)(!1),[K,L]=(0,s.useState)([]),Q=e=>{v(e),w(r=>{let a=[...r];return a.length=e,a.fill("",r.length,e)}),L(Array(e).fill(0))},W=(e,r)=>{w(a=>{let t=[...a];return t[e]=r,t})},ee=(e,r)=>{L(a=>{let t=[...a];return t[e]=r,t})},er=e=>{if(!e||0===e.length)return 0;let r=Math.max(...e);return e.reduce((e,a)=>a===r?e:e-a,r)},ea=(e,r,a,t)=>{let s=parseInt(t)||0;_(t=>{let l=[...t];return l[e]||(l[e]=Array(7).fill().map(()=>[,,,,,].fill(0))),l[e][r]||(l[e][r]=[,,,,,].fill(0)),l[e][r][a]=s,l}),U(t=>{let l=[...t];l[e]||(l[e]=Array(7).fill(0));let i=C[e][r].map((e,r)=>r===a?s:e);return l[e][r]=er(i),l})},et=e=>(P[e]||[]).reduce((e,r)=>e+(r||0),0),es=()=>{if($){let e=K.reduce((e,r,a)=>(e[r]||(e[r]=0),e[r]+=et(a),e),{}),r=Math.max(...Object.values(e)),a=Object.entries(e).filter(e=>{let[a,t]=e;return t===r}).map(e=>{let[r]=e;return"\xc9quipe ".concat(r)});return a.join(" et ")}{let e=N.slice(0,j).map((e,r)=>et(r)),r=Math.max(...e),a=N.filter((e,a)=>et(a)===r);return a.join(" et ")}};return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("a",{href:"https://www.etheryon.fr",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 transition-colors flex items-center space-x-2",children:[(0,t.jsx)(T.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:"Site officiel Etheryon"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(M.Z,{className:"h-5 w-5"}),(0,t.jsx)(k,{checked:"dark"===r,onCheckedChange:()=>a("dark"===r?"light":"dark")}),(0,t.jsx)(Z.Z,{className:"h-5 w-5"})]})]}),(0,t.jsx)(i.M,{mode:"wait",children:d?c?(0,t.jsx)(l.E.div,{...F,children:(0,t.jsxs)(x,{className:"max-w-4xl mx-auto",children:[(0,t.jsx)(m,{children:(0,t.jsx)(h,{children:"R\xe9sultats Finaux"})}),(0,t.jsxs)(p,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Joueur"}),Array.from({length:7},(e,r)=>(0,t.jsxs)("th",{className:"px-4 py-2 text-center",children:["M",r+1]},r)),(0,t.jsx)("th",{className:"px-4 py-2 text-center",children:"Total"})]})}),(0,t.jsx)("tbody",{children:N.slice(0,j).map((e,r)=>(0,t.jsxs)("tr",{className:e===es()?"bg-green-100 dark:bg-green-900":"",children:[(0,t.jsx)("td",{className:"px-4 py-2",children:e}),(P[r]||[]).map((e,r)=>(0,t.jsx)("td",{className:"px-4 py-2 text-center",children:e||0},r)),(0,t.jsx)("td",{className:"px-4 py-2 text-center font-bold",children:et(r)})]},r))})]})}),(0,t.jsxs)("div",{className:"mt-6 text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold mb-4",children:[$?"\xc9quipe gagnante":"Gagnant"," : ",es()]}),(0,t.jsx)(u,{onClick:()=>{o(!1),g(!1),B(0),V(1)},children:"Nouvelle partie"})]})]})]})},"results"):(0,t.jsx)(l.E.div,{...F,children:(0,t.jsxs)(x,{className:"max-w-4xl mx-auto",children:[(0,t.jsx)(m,{children:(0,t.jsxs)(h,{children:["Tour de ",N[J]," - Manche ",I]})}),(0,t.jsxs)(p,{children:[(e=I-1,(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:q.map((r,a)=>{var s,l;return(0,t.jsx)(O,{element:r,value:(null===(l=C[J])||void 0===l?void 0:null===(s=l[e])||void 0===s?void 0:s[a])||0,onChange:r=>ea(J,e,a,r.target.value),className:"w-full text-center"},a)})})),(0,t.jsx)(u,{className:"mt-6",onClick:()=>{J<j-1?B(J+1):(B(0),I<7?V(I+1):g(!0))},children:7===I&&J===j-1?"Terminer la partie":"Joueur suivant"})]})]})},"game"):(0,t.jsx)(l.E.div,{...F,children:(0,t.jsxs)(x,{className:"max-w-md mx-auto",children:[(0,t.jsx)(m,{children:(0,t.jsx)(h,{children:"Configuration de la partie"})}),(0,t.jsxs)(p,{children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block mb-2 font-medium",children:"Nombre de joueurs :"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[2,3,4,5,6,7,8].map(e=>(0,t.jsx)(u,{onClick:()=>Q(e),variant:j===e?"default":"outline",children:e},e))})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y,{checked:$,onCheckedChange:e=>D(e)}),(0,t.jsx)("span",{children:"Mode \xe9quipe"})]})}),(0,t.jsx)(b,{className:"h-60",children:(0,t.jsx)("div",{className:"space-y-4",children:N.slice(0,j).map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f,{placeholder:"Joueur ".concat(r+1),value:e,onChange:e=>W(r,e.target.value)}),$&&(0,t.jsxs)(S,{value:K[r].toString(),onValueChange:e=>ee(r,parseInt(e)),children:[(0,t.jsx)(A,{className:"w-24",children:(0,t.jsx)(R,{placeholder:"\xc9quipe"})}),(0,t.jsx)(E,{children:[1,2,3,4].map(e=>(0,t.jsxs)(z,{value:e.toString(),children:["\xc9quipe ",e]},e))})]})]},r))})}),(0,t.jsx)(u,{onClick:()=>{_(Array(j).fill().map(()=>Array(7).fill().map(()=>[,,,,,].fill(0)))),U(Array(j).fill().map(()=>Array(7).fill(0))),Y(Array(7).fill(-1)),o(!0)},className:"w-full mt-6",disabled:N.slice(0,j).some(e=>!e),children:"Commencer la partie"})]})]})},"setup")})]})})};function B(){let{theme:e}=(0,n.F)();return(0,t.jsx)("div",{className:"min-h-screen bg-background ".concat("dark"===e?"dark":""),children:(0,t.jsx)("div",{className:"container mx-auto p-4",children:(0,t.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsx)(x,{className:"w-full max-w-4xl mx-auto",children:(0,t.jsx)(J,{})})})})})}}},function(e){e.O(0,[776,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);