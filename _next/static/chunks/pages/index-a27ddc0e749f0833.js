(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4126)}])},4126:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return P}});var t=s(5893),r=s(7294),l=s(5480),i=s(3114),n=s(1571),c=s(8426);function d(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter(Boolean).join(" ")}let o={base:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},m=r.forwardRef((e,a)=>{let{className:s,variant:r="default",size:l="default",asChild:i=!1,...n}=e,m=i?c.g7:"button";return(0,t.jsx)(m,{className:d(o.base,o.variant[r],o.size[l],s),ref:a,...n})});m.displayName="Button";let x=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});x.displayName="Input";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});u.displayName="Card";let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:d("flex flex-col space-y-1.5 p-6",s),...r})});h.displayName="CardHeader";let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:d("text-2xl font-semibold leading-none tracking-tight",s),...r})});f.displayName="CardTitle";let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:d("p-6 pt-0",s),...r})});p.displayName="CardContent";var b=s(5443);let j=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(b.fC,{ref:a,className:d("relative overflow-hidden",s),...l,children:[(0,t.jsx)(b.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(g,{}),(0,t.jsx)(b.Ns,{})]})});j.displayName=b.fC.displayName;let g=r.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,t.jsx)(b.gb,{ref:a,orientation:r,className:d("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(b.q4,{className:"relative flex-1 rounded-full bg-border"})})});g.displayName=b.gb.displayName;var N=s(6069),y=s(3742);let v=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(N.fC,{ref:a,className:d("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(N.z$,{className:d("flex items-center justify-center text-current"),children:(0,t.jsx)(y.Z,{className:"h-4 w-4"})})})});v.displayName=N.fC.displayName;var w=s(761);let k=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(w.fC,{className:d("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:a,children:(0,t.jsx)(w.bU,{className:d("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});k.displayName=w.fC.displayName;var C=s(5649),_=s(8971);let S=C.fC;C.ZA;let E=C.B4,M=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(C.xz,{ref:a,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:[r,(0,t.jsx)(C.JO,{asChild:!0,children:(0,t.jsx)(_.Z,{className:"h-4 w-4 opacity-50"})})]})});M.displayName=C.xz.displayName;let R=r.forwardRef((e,a)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,t.jsx)(C.h_,{children:(0,t.jsx)(C.VY,{ref:a,className:d("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:(0,t.jsx)(C.l_,{className:d("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});R.displayName=C.VY.displayName;let A=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(C.ck,{ref:a,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(C.wU,{children:(0,t.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(C.eT,{children:r})]})});A.displayName=C.ck.displayName;var T=s(8532),Z=s(250),q=s(1470),z=s(9525),F=s(5269);let J=["Eau","Feu","Terre","Air","Foudre"],O={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},B=e=>{let{element:a,value:s,onChange:r,className:l}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),(0,t.jsx)(x,{type:"number",value:s,onChange:r,className:"input-element ".concat(l),min:"0"})]})};var I=()=>{let{theme:e,setTheme:a}=(0,n.F)(),[s,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),[b,g]=(0,r.useState)(3),[N,y]=(0,r.useState)(Array(8).fill("")),[w,C]=(0,r.useState)([]),[_,I]=(0,r.useState)(0),[P,V]=(0,r.useState)(1),[U,X]=(0,r.useState)([]),[Y,G]=(0,r.useState)([]),[H,$]=(0,r.useState)(!1),[D,K]=(0,r.useState)(!1),[L,Q]=(0,r.useState)([]),W=e=>{g(e),y(a=>{let s=[...a];return s.length=e,s.fill("",a.length,e)}),Q(Array(e).fill(0))},ee=(e,a)=>{y(s=>{let t=[...s];return t[e]=a,t})},ea=(e,a)=>{Q(s=>{let t=[...s];return t[e]=a,t})},es=e=>{if(!e||0===e.length)return 0;let a=Math.max(...e);return e.reduce((e,s)=>s===a?e:e-s,a)},et=(e,a,s,t)=>{let r=parseInt(t)||0;C(t=>{let l=[...t];return l[e]||(l[e]=Array(7).fill().map(()=>[,,,,,].fill(0))),l[e][a]||(l[e][a]=[,,,,,].fill(0)),l[e][a][s]=r,l}),X(t=>{let l=[...t];l[e]||(l[e]=Array(7).fill(0));let i=w[e][a].map((e,a)=>a===s?r:e);return l[e][a]=es(i),l})},er=(e,a)=>{G(s=>{let t=[...s];return t[e]===a?t[e]=-1:(-1!==t[e]&&X(a=>a.map((a,s)=>s===t[e]?a.map((a,s)=>s===e?a-15:a):a)),t[e]=a),t}),X(s=>s.map((s,t)=>t===a?s.map((s,t)=>t===e?s+(Y[e]===a?-15:15):s):s))},el=e=>(U[e]||[]).reduce((e,a)=>e+(a||0),0),ei=()=>{if(D){let e=L.reduce((e,a,s)=>(e[a]||(e[a]=0),e[a]+=el(s),e),{}),a=Math.max(...Object.values(e)),s=Object.entries(e).filter(e=>{let[s,t]=e;return t===a}).map(e=>{let[a]=e;return"\xc9quipe ".concat(a)});return s.join(" et ")}{let e=N.slice(0,b).map((e,a)=>el(a)),a=Math.max(...e),s=N.filter((e,s)=>el(s)===a);return s.join(" et ")}},en=(e,a)=>(0,t.jsx)(l.E.div,{className:"grid grid-cols-2 md:grid-cols-5 gap-4",variants:O,initial:"initial",animate:"animate",children:J.map((s,r)=>{var l,i;return(0,t.jsx)(B,{element:s,value:(null===(i=w[e])||void 0===i?void 0:null===(l=i[a])||void 0===l?void 0:l[r])||0,onChange:s=>et(e,a,r,s.target.value),className:"w-full text-center"},r)})});return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)(l.E.div,{className:"flex justify-between items-center mb-8",variants:O,initial:"initial",animate:"animate",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("a",{href:"https://www.etheryon.fr",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 transition-colors flex items-center space-x-2",children:[(0,t.jsx)(q.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Site officiel Etheryon"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(T.Z,{className:"h-5 w-5"}),(0,t.jsx)(k,{checked:"dark"===e,onCheckedChange:()=>a("dark"===e?"light":"dark"),className:"data-[state=checked]:bg-primary"}),(0,t.jsx)(Z.Z,{className:"h-5 w-5"})]})]}),(0,t.jsx)(i.M,{mode:"wait",children:s?d?(0,t.jsx)(l.E.div,{className:"card-container max-w-4xl mx-auto p-6",variants:O,initial:"initial",animate:"animate",exit:"exit",children:(0,t.jsxs)(u,{children:[(0,t.jsx)(h,{children:(0,t.jsxs)(f,{className:"text-2xl font-bold flex items-center space-x-2",children:[(0,t.jsx)(q.Z,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:"R\xe9sultats finaux"})]})}),(0,t.jsxs)(p,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[(0,t.jsx)("th",{className:"table-header",children:"Joueur"}),[1,2,3,4,5,6,7].map(e=>(0,t.jsxs)("th",{className:"table-header",children:["Manche ",e]},e)),(0,t.jsx)("th",{className:"table-header",children:"Total"})]})}),(0,t.jsx)("tbody",{children:N.slice(0,b).map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\n                ".concat(e===ei()?"bg-green-100 dark:bg-green-800":"","\n                ").concat(D?"team-".concat(L[a]):""),children:[(0,t.jsxs)("td",{className:"table-cell font-medium",children:[e," ",D&&"(\xc9quipe ".concat(L[a],")")]}),(U[a]||[]).map((e,s)=>(0,t.jsx)("td",{className:"table-cell text-center",children:H?(0,t.jsx)("div",{className:"p-2",children:en(a,s)}):(0,t.jsxs)(t.Fragment,{children:[e||0,Y[s]===a&&(0,t.jsx)("span",{className:"ml-1 text-primary",children:"(M)"})]})},s)),(0,t.jsx)("td",{className:"table-cell text-center font-bold",children:el(a)})]},a))})]})}),(0,t.jsxs)("div",{className:"mt-8 text-center space-y-6",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[D?"\xc9quipe gagnante":"Gagnant"," : ",ei()]}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,t.jsx)(m,{onClick:()=>$(!H),variant:"outline",className:"button-secondary",children:H?"Terminer l'\xe9dition":"Modifier les scores"}),(0,t.jsx)(m,{onClick:()=>{c(!1),o(!1),I(0),V(1),X([]),C([]),G(Array(7).fill(-1)),$(!1)},className:"button-primary",children:"Nouvelle partie"})]})]})]})]})},"results"):(0,t.jsx)(l.E.div,{variants:O,initial:"initial",animate:"animate",exit:"exit",className:"card-container max-w-4xl mx-auto",children:(0,t.jsxs)(u,{children:[(0,t.jsx)(h,{children:(0,t.jsxs)(f,{className:"text-2xl font-bold flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{children:["Tour de ",N[_]]}),(0,t.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["- Manche ",P]})]}),D&&(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm team-".concat(L[_]),children:["\xc9quipe ",L[_]]})]})}),(0,t.jsxs)(p,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Points des \xe9l\xe9ments"}),en(_,P-1)]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-header",children:"Joueur"}),[1,2,3,4,5,6,7].map(e=>(0,t.jsxs)("th",{className:"table-header",children:["Manche ",e]},e)),(0,t.jsx)("th",{className:"table-header",children:"Total"})]})}),(0,t.jsx)("tbody",{children:N.slice(0,b).map((e,a)=>(0,t.jsxs)(l.E.tr,{className:"\n                hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\n                ".concat(_===a?"bg-blue-50 dark:bg-blue-900/20":"","\n                ").concat(D?"team-".concat(L[a]):"","\n              "),initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*a},children:[(0,t.jsxs)("td",{className:"table-cell font-medium",children:[e," ",D&&"(\xc9quipe ".concat(L[a],")")]}),(U[a]||[]).map((e,s)=>(0,t.jsxs)("td",{className:"table-cell text-center",children:[e||0,Y[s]===a&&(0,t.jsx)("span",{className:"ml-1 text-primary",children:"(M)"})]},s)),(0,t.jsx)("td",{className:"table-cell text-center font-bold",children:el(a)})]},a))})]})}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Ma\xeetrise par manche"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-header",children:"Manche"}),N.slice(0,b).map((e,a)=>(0,t.jsx)("th",{className:"table-header",children:e},a))]})}),(0,t.jsx)("tbody",{children:Y.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"table-cell text-center",children:a+1}),N.slice(0,b).map((s,r)=>(0,t.jsx)("td",{className:"table-cell text-center",children:(0,t.jsx)(v,{checked:e===r,onCheckedChange:()=>er(a,r),className:"data-[state=checked]:bg-primary"})},r))]},a))})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,t.jsx)(m,{variant:"outline",onClick:()=>$(!H),className:"button-secondary",children:H?"Terminer l'\xe9dition":"Modifier les scores"}),(0,t.jsx)(m,{onClick:()=>{_<b-1?I(_+1):(I(0),P<7?V(P+1):o(!0))},className:"button-primary",children:7===P&&_===b-1?"Terminer la partie":"Joueur suivant"})]})]})]})},"game"):(0,t.jsx)(l.E.div,{className:"card-container max-w-md mx-auto p-6",variants:O,initial:"initial",animate:"animate",exit:"exit",children:(0,t.jsxs)(u,{children:[(0,t.jsx)(h,{children:(0,t.jsxs)(f,{className:"text-2xl font-bold flex items-center space-x-2",children:[(0,t.jsx)(z.Z,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:"Configuration du jeu"})]})}),(0,t.jsxs)(p,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block mb-2 font-medium",children:"Nombre de joueurs :"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[2,3,4,5,6,7,8].map(e=>(0,t.jsx)(m,{onClick:()=>W(e),variant:b===e?"default":"outline",className:b===e?"button-primary":"button-secondary",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v,{checked:D,onCheckedChange:e=>K(e),className:"data-[state=checked]:bg-primary"}),(0,t.jsxs)("label",{className:"font-medium flex items-center space-x-2",children:[(0,t.jsx)(F.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Mode \xe9quipe"})]})]}),(0,t.jsx)(j,{className:"h-60 rounded-md border p-4",children:(0,t.jsx)("div",{className:"space-y-4",children:N.slice(0,b).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{placeholder:"Joueur ".concat(a+1),value:e,onChange:e=>ee(a,e.target.value),className:"input-element"}),D&&(0,t.jsxs)(S,{value:L[a].toString(),onValueChange:e=>ea(a,parseInt(e)),children:[(0,t.jsx)(M,{className:"w-24",children:(0,t.jsx)(E,{placeholder:"\xc9quipe"})}),(0,t.jsx)(R,{children:[1,2,3,4].map(e=>(0,t.jsxs)(A,{value:e.toString(),className:"team-".concat(e),children:["\xc9quipe ",e]},e))})]})]},a))})}),(0,t.jsx)(m,{onClick:()=>{C(Array(b).fill().map(()=>Array(7).fill().map(()=>[,,,,,].fill(0)))),X(Array(b).fill().map(()=>Array(7).fill(0))),G(Array(7).fill(-1)),c(!0)},className:"w-full button-primary",disabled:N.slice(0,b).some(e=>!e),children:"Commencer la partie"})]})]})},"setup")})]})})};function P(){let{theme:e}=(0,n.F)();return(0,t.jsx)("div",{className:"min-h-screen bg-background ".concat("dark"===e?"dark":""),children:(0,t.jsx)("div",{className:"container mx-auto p-4",children:(0,t.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsx)(u,{className:"w-full max-w-4xl mx-auto",children:(0,t.jsx)(I,{})})})})})}}},function(e){e.O(0,[62,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);