(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4126)}])},4126:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return z}});var a=s(5893),t=s(7294),l=s(8426);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter(Boolean).join(" ")}let i={base:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},d=t.forwardRef((e,r)=>{let{className:s,variant:t="default",size:d="default",asChild:c=!1,...o}=e,u=c?l.g7:"button";return(0,a.jsx)(u,{className:n(i.base,i.variant[t],i.size[d],s),ref:r,...o})});d.displayName="Button";let c=t.forwardRef((e,r)=>{let{className:s,type:t,...l}=e;return(0,a.jsx)("input",{type:t,className:n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...l})});c.displayName="Input";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});o.displayName="Card";let u=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:n("flex flex-col space-y-1.5 p-6",s),...t})});u.displayName="CardHeader";let m=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h3",{ref:r,className:n("text-2xl font-semibold leading-none tracking-tight",s),...t})});m.displayName="CardTitle";let f=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:n("p-6 pt-0",s),...t})});f.displayName="CardContent";var x=s(5443);let h=t.forwardRef((e,r)=>{let{className:s,children:t,...l}=e;return(0,a.jsxs)(x.fC,{ref:r,className:n("relative overflow-hidden",s),...l,children:[(0,a.jsx)(x.l_,{className:"h-full w-full rounded-[inherit]",children:t}),(0,a.jsx)(p,{}),(0,a.jsx)(x.Ns,{})]})});h.displayName=x.fC.displayName;let p=t.forwardRef((e,r)=>{let{className:s,orientation:t="vertical",...l}=e;return(0,a.jsx)(x.gb,{ref:r,orientation:t,className:n("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,a.jsx)(x.q4,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=x.gb.displayName;var b=s(6069),j=s(3742);let g=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(b.fC,{ref:r,className:n("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:(0,a.jsx)(b.z$,{className:n("flex items-center justify-center text-current"),children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})})})});g.displayName=b.fC.displayName;var N=s(761);let v=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(N.fC,{className:n("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:r,children:(0,a.jsx)(N.bU,{className:n("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});v.displayName=N.fC.displayName;var y=s(5649),w=s(8971);let k=y.fC;y.ZA;let C=y.B4,S=t.forwardRef((e,r)=>{let{className:s,children:t,...l}=e;return(0,a.jsxs)(y.xz,{ref:r,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:[t,(0,a.jsx)(y.JO,{asChild:!0,children:(0,a.jsx)(w.Z,{className:"h-4 w-4 opacity-50"})})]})});S.displayName=y.xz.displayName;let _=t.forwardRef((e,r)=>{let{className:s,children:t,position:l="popper",...i}=e;return(0,a.jsx)(y.h_,{children:(0,a.jsx)(y.VY,{ref:r,className:n("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:(0,a.jsx)(y.l_,{className:n("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})})});_.displayName=y.VY.displayName;let R=t.forwardRef((e,r)=>{let{className:s,children:t,...l}=e;return(0,a.jsxs)(y.ck,{ref:r,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(y.wU,{children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(y.eT,{children:t})]})});R.displayName=y.ck.displayName;var A=s(8532),M=s(250);let E=["Eau","Feu","Terre","Air","Foudre"];var T=()=>{let[e,r]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)(3),[x,p]=(0,t.useState)(Array(8).fill("")),[b,j]=(0,t.useState)([]),[N,y]=(0,t.useState)(0),[w,T]=(0,t.useState)(1),[z,q]=(0,t.useState)([]),[Z,J]=(0,t.useState)([]),[O,B]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),[V,L]=(0,t.useState)(!1),[P,U]=(0,t.useState)([]);(0,t.useEffect)(()=>{F?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[F]);let X=e=>{i(e),p(r=>{let s=[...r];return s.length=e,s.fill("",r.length,e)}),U(Array(e).fill(0))},Y=(e,r)=>{p(s=>{let a=[...s];return a[e]=r,a})},G=(e,r)=>{U(s=>{let a=[...s];return a[e]=r,a})},H=e=>{if(!e||0===e.length)return 0;let r=Math.max(...e);return e.reduce((e,s)=>s===r?e:e-s,r)},$=(e,r,s,a)=>{let t=parseInt(a)||0;j(a=>{let l=[...a];return l[e]||(l[e]=Array(7).fill().map(()=>[,,,,,].fill(0))),l[e][r]||(l[e][r]=[,,,,,].fill(0)),l[e][r][s]=t,l}),q(a=>{let l=[...a];l[e]||(l[e]=Array(7).fill(0));let n=b[e][r].map((e,r)=>r===s?t:e);return l[e][r]=H(n),l})},D=(e,r)=>{J(s=>{let a=[...s];return a[e]===r?a[e]=-1:(-1!==a[e]&&q(r=>r.map((r,s)=>s===a[e]?r.map((r,s)=>s===e?r-15:r):r)),a[e]=r),a}),q(s=>s.map((s,a)=>a===r?s.map((s,a)=>a===e?s+(Z[e]===r?-15:15):s):s))},K=e=>(z[e]||[]).reduce((e,r)=>e+(r||0),0),Q=()=>{if(V){let e=P.reduce((e,r,s)=>(e[r]||(e[r]=0),e[r]+=K(s),e),{}),r=Math.max(...Object.values(e)),s=Object.entries(e).filter(e=>{let[s,a]=e;return a===r}).map(e=>{let[r]=e;return"\xc9quipe ".concat(r)});return s.join(" et ")}{let e=x.slice(0,n).map((e,r)=>K(r)),r=Math.max(...e),s=x.filter((e,s)=>K(s)===r);return s.join(" et ")}},W=(e,r)=>(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2",children:E.map((s,t)=>{var l,n;return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("label",{className:"text-sm mb-1",children:s}),(0,a.jsx)(c,{type:"number",value:(null===(n=b[e])||void 0===n?void 0:null===(l=n[r])||void 0===l?void 0:l[t])||0,onChange:s=>$(e,r,t,s.target.value),className:"w-full text-center"})]},t)})}),ee=()=>(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Ma\xeetrise par manche :"}),(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,a.jsx)("th",{className:"border p-2",children:"Manche"}),x.slice(0,n).map((e,r)=>(0,a.jsx)("th",{className:"border p-2",children:e},r))]})}),(0,a.jsx)("tbody",{children:Z.map((e,r)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border p-2 text-center",children:r+1}),x.slice(0,n).map((s,t)=>(0,a.jsx)("td",{className:"border p-2 text-center",children:(0,a.jsx)(g,{checked:e===t,onCheckedChange:()=>D(r,t)})},t))]},r))})]})]});return(0,a.jsx)("div",{className:"min-h-screen ".concat(F?"dark":""),children:(0,a.jsxs)("div",{className:"container mx-auto p-4 dark:bg-gray-800 dark:text-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("a",{href:"https://www.etheryon.fr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-100",children:"Site officiel Etheryon"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(A.Z,{className:"h-6 w-6 mr-2"}),(0,a.jsx)(v,{checked:F,onCheckedChange:e=>I(e)}),(0,a.jsx)(M.Z,{className:"h-6 w-6 ml-2"})]})]}),e?s?(0,a.jsxs)(o,{className:"w-full max-w-4xl mx-auto",children:[(0,a.jsx)(u,{children:(0,a.jsx)(m,{children:"R\xe9sultats finaux"})}),(0,a.jsxs)(f,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,a.jsx)("th",{className:"border p-2",children:"Joueur"}),[1,2,3,4,5,6,7].map(e=>(0,a.jsxs)("th",{className:"border p-2",children:["Manche ",e]},e)),(0,a.jsx)("th",{className:"border p-2",children:"Total"})]})}),(0,a.jsx)("tbody",{children:x.slice(0,n).map((e,r)=>(0,a.jsxs)("tr",{className:e===Q()?"bg-green-100 dark:bg-green-700":"",children:[(0,a.jsxs)("td",{className:"border p-2",children:[e," ",V&&"(\xc9quipe ".concat(P[r],")")]}),(z[r]||[]).map((e,s)=>(0,a.jsx)("td",{className:"border p-2 text-center",children:O?(0,a.jsx)("div",{children:W(r,s)}):(0,a.jsxs)(a.Fragment,{children:[e||0,Z[s]===r&&" (M)"]})},s)),(0,a.jsx)("td",{className:"border p-2 text-center font-bold",children:K(r)})]},r))})]})}),ee(),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold mb-4",children:[V?"\xc9quipe gagnante":"Gagnant"," : ",Q()]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(d,{onClick:()=>B(!O),children:O?"Terminer l'\xe9dition":"Modifier les scores"}),(0,a.jsx)(d,{onClick:()=>{r(!1),l(!1),y(0),T(1),q([]),j([]),J(Array(7).fill(-1)),B(!1)},children:"Nouvelle partie"})]})]})]})]}):(0,a.jsxs)(o,{className:"w-full max-w-4xl",children:[(0,a.jsx)(u,{children:(0,a.jsxs)(m,{children:["Tour de ",x[N]," - Manche ",w]})}),(0,a.jsxs)(f,{children:[W(N,w-1),(0,a.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,a.jsx)("th",{className:"border p-2",children:"Joueur"}),[1,2,3,4,5,6,7].map(e=>(0,a.jsxs)("th",{className:"border p-2",children:["Manche ",e]},e)),(0,a.jsx)("th",{className:"border p-2",children:"Total"})]})}),(0,a.jsx)("tbody",{children:x.slice(0,n).map((e,r)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"border p-2",children:[e," ",V&&"(\xc9quipe ".concat(P[r],")")]}),(z[r]||[]).map((e,s)=>(0,a.jsxs)("td",{className:"border p-2 text-center",children:[e||0,Z[s]===r&&" (M)"]},s)),(0,a.jsx)("td",{className:"border p-2 text-center font-bold",children:K(r)})]},r))})]})}),ee(),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)(d,{onClick:()=>B(!O),children:O?"Terminer l'\xe9dition":"Modifier les scores"}),(0,a.jsx)(d,{onClick:()=>{N<n-1?y(N+1):(y(0),w<7?T(w+1):l(!0))},children:"Joueur suivant"})]})]})]}):(0,a.jsxs)(o,{className:"w-96 mx-auto",children:[(0,a.jsx)(u,{children:(0,a.jsx)(m,{children:"Configuration du jeu Etheryon"})}),(0,a.jsxs)(f,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block mb-2",children:"Nombre de joueurs :"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[2,3,4,5,6,7,8].map(e=>(0,a.jsx)(d,{onClick:()=>X(e),variant:n===e?"default":"outline",children:e},e))})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)(g,{checked:V,onCheckedChange:e=>L(e),className:"mr-2"}),"Mode \xe9quipe"]})}),(0,a.jsx)(h,{className:"h-60",children:x.slice(0,n).map((e,r)=>(0,a.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,a.jsx)(c,{placeholder:"Joueur ".concat(r+1),value:e,onChange:e=>Y(r,e.target.value),className:"mr-2"}),V&&(0,a.jsxs)(k,{value:P[r].toString(),onValueChange:e=>G(r,parseInt(e)),children:[(0,a.jsx)(S,{className:"w-24",children:(0,a.jsx)(C,{placeholder:"\xc9quipe"})}),(0,a.jsx)(_,{children:[1,2,3,4].map(e=>(0,a.jsxs)(R,{value:e.toString(),children:["\xc9quipe ",e]},e))})]})]},r))}),(0,a.jsx)(d,{onClick:()=>{j(Array(n).fill().map(()=>Array(7).fill().map(()=>[,,,,,].fill(0)))),q(Array(n).fill().map(()=>Array(7).fill(0))),J(Array(7).fill(-1)),r(!0)},className:"w-full mt-4",disabled:x.slice(0,n).some(e=>!e),children:"Commencer la partie"})]})]})]})})};function z(){return(0,a.jsx)("div",{className:"container mx-auto p-4",children:(0,a.jsxs)(o,{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Calculatrice Etheryon"}),(0,a.jsx)(T,{})]})})}}},function(e){e.O(0,[611,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);